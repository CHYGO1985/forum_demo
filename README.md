# forum_demo
It is a pilot forum project that uses SpringBoot + Freemarker + MyBatis + MySQL + Redis. It is a project for learning, hence I may add new function into it from time to time. Current implemented function include:

* [Register/Login] - General function related to register and login. Apply interceptors and tickets (stored in Cookies) to implement Single-Sign On(SSO) function.
* [Submit Topics] - Registered users can post new topics to the home page. Sensitive words in the posts will be filtered by the system.
* [Submit Commnets] - Registered users can submit comments towards certain topic. Sensitive words in the posts will be filtered by the system as well.
* [Like/Dislike] - Registered users can vote "like" or "dislike" towards comments. And the poster of the comments which are voted "like"
 will receive a notification message sent by the system.
* [Follow/Unfollow] - Registered users can follow or unfollow other registered users or posted topics. 
* [Messaging System] - Registered users can send private messages to other registered users. The system can display a messages list regading a conversation.
* [Asynchronous Event Handling] - Handling events in ansynchronous style. For instance, LIKE event and FOLLOW event.

I will introduce the main techniques used for implementing each module below.
### Register/Login
  - Used Salts and MD5 to encrpyt passwords.
  - Interceptor & ticket。After a user has login to the system, it will add a ticket to the cookie. Whenever the user visited a new page of the system, the interceptor will verify the ticket in cookie to decided whether a user has login. This is similar to Single-Sign On(SSO). 
  - After a user login or register, if the user visited a page of the system before, it will redirect to the previous visted page.

### Submit Topics
The MySQL database is used to store topics data. Sensitive contents in a topic title and content will filtered. The sensitive words filtering was implemented by applying Trie (prifix tree).  

### Like/Dislike
Like and dislike data is stored by using datatype set in Redis. Keys are generated by using useID and the entityID of the entity which is liked or disliked. Therefore, using the property that set does not allow duplicated keys, the system does not allow a single user repeated voting like or dislike for an entity. 

### Follow/Unfollow
The sorted set of Redis is used to store data regarding follow and unfollow. The created data time are used as score for sorting.

### Asynchronous Event Handling
Producer-Consumer patter was applied for asynchronous event handling. The list of Redis was used as queue for storing events.
